generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id        Int      @id @default(autoincrement())
  //id        String   @id @default(dbgenerated("gen_random_uuid()"))
  username  String   @unique
  password  String
  token     String?  @unique
  videos    Video[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Tag {
  //id     String   @id @default(dbgenerated("gen_random_uuid()"))
  id      String  @id @default(cuid())
  name   String   @unique
  slug   String   @unique
  videos Video[]
}

model Video {
  // id      String   @id @default(auto()) @map("_id") @db.ObjectId
  id      String  @id @default(cuid())
  //id      String  @id @default(dbgenerated("gen_random_uuid()"))
  type    String?
  title   String?
  content String?
  author  String

  // user   User?   @relation(fields: [userId], references: [id])
  // userId String?
  user   User?   @relation(fields: [userId], references: [id])
  userId Int?

  view_count       Int
  short_view_count Int?
  country          String?
  slug             String?
  tags             Tag[]

  published       DateTime?
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  thumbnailUrl    String?
  thumbnailWidth  Int?
  thumbnailheight Int?
}
